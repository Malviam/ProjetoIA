<!DOCTYPE html>
<html lang="pt">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gerador de Atividades Educacionais</title>
    <link rel="stylesheet" href="/static/style.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>Gerador de Atividades Educacionais</h1>
            <p>Escolha um tema e nível de ensino para gerar até cinco atividades relacionadas ao tema.</p>
        </header>

        <section id="generator">
            <label for="theme">Escolha um tema:</label>
            <input type="text" id="theme" placeholder="Ex: Ciências, História...">
            
            <label for="grade_level">Nível de Ensino:</label>
            <select id="grade_level">
                <option value="ensino fundamental">Ensino Fundamental</option>
                <option value="ensino médio">Ensino Médio</option>
            </select>
            
            <button onclick="generateActivity()">Gerar Atividades</button>
        </section>

        <section id="output">
            <h2>Atividades Geradas</h2>
            <div id="activities"></div>
        </section>

        <button onclick="location.href='/'">Voltar ao Chatbot</button>

        <script>
            async function generateActivity() {
                const theme = document.getElementById("theme").value;
                const grade_level = document.getElementById("grade_level").value;

                const response = await fetch("/generate_activity", {
                    method: "POST",
                    headers: { "Content-Type": "application/json" },
                    body: JSON.stringify({ theme: theme, grade_level: grade_level })
                });

                const data = await response.json();
                const activitiesDiv = document.getElementById("activities");
                activitiesDiv.innerHTML = "";

                if (data.activities) {
                    data.activities.forEach((activity, index) => {
                        const activityItem = document.createElement("p");
                        activityItem.classList.add("activity-box");
                        activityItem.innerText = `Atividade ${index + 1}: ${activity}`;
                        activitiesDiv.appendChild(activityItem);
                    });
                } else {
                    activitiesDiv.innerText = "Erro ao gerar atividades.";
                }
            }
        </script>
    </div>
</body>
</html>
